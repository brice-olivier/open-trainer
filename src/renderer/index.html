<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ERG Trainer POC</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <main>
      <header>
        <h1>ERG Trainer POC</h1>
        <p class="subtitle">Control an FTMS trainer in ERG mode.</p>
      </header>

      <section class="card">
        <h2>Connection</h2>
        <div class="status-row">
          <span id="connectionDot" class="status-dot offline"></span>
          <div>
            <p id="connectionState" class="status-primary">Idle</p>
            <p id="statusMessage" class="status-sub">Not connected</p>
          </div>
        </div>
        <div class="row">
          <label for="deviceName">Device filter</label>
          <input id="deviceName" type="text" placeholder="Optional name contains..." />
        </div>
        <button id="connect">Connect</button>
      </section>

      <section class="card">
        <h2>ERG Session</h2>
        <div class="row">
          <label for="targetWatts">Target Watts</label>
          <input id="targetWatts" type="number" value="150" min="0" max="2500" step="5" />
        </div>
        <div class="row">
          <label for="duration">Duration (seconds)</label>
          <input id="duration" type="number" value="0" min="0" step="30" />
        </div>
        <div class="actions">
          <button id="start">Start</button>
          <button id="stop" class="danger">Stop</button>
        </div>
        <div class="actions secondary">
          <button id="decrease">-10 W</button>
          <span id="currentTarget">Target: 0 W</span>
          <button id="increase">+10 W</button>
        </div>
      </section>

      <section class="card">
        <h2>Live Telemetry</h2>
        <div class="telemetry-grid">
          <div class="tile">
            <h3>Power</h3>
            <p id="telemetryPower">—</p>
          </div>
          <div class="tile">
            <h3>Cadence</h3>
            <p id="telemetryCadence">—</p>
          </div>
          <div class="tile">
            <h3>Speed</h3>
            <p id="telemetrySpeed">—</p>
          </div>
        </div>
      </section>

      <section class="card">
        <h2>Activity Log</h2>
        <ul id="eventLog" class="event-log">
          <li class="placeholder">No events yet. Connect to your trainer to see updates.</li>
        </ul>
      </section>
    </main>

    <script type="module" src="./renderer.js"></script>
  </body>
</html>
